<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"> <!-- Define el tipo de codificacion de caracteres -->
    <title>Tienda Online Sin Patrones</title> <!-- Titulo que aparece en la pestaña -->
    <link rel="stylesheet" href="estilos.css"> <!-- Enlaza el archivo de estilos CSS -->
</head>
<body>
    
    <!-- Titulo principal de la pagina -->
    <h1>TIENDA ONLINE SIN PATRONES DE DISEÑO</h1>

    <!-- Boton para ejecutar la funcion que muestra los productos -->
    <button onclick="mostrarProductos()">Mostrar Productos</button>
    
    <!-- Aqui se mostraran los productos en pantalla -->
    <div id="productos"></div>
    
    <!-- Aqui se mostrara el total del carrito -->
    <div id="carrito"></div>

<script>
    // Clase base: Producto
    class Producto {
        constructor(nombre, precio) {
            // Se usan guiones bajos para simular que las propiedades son privadas (encapsuladas)
            this._nombre = nombre;
            this._precio = precio;
    }

    // Metodo para obtener el nombre
    getNombre() {
        return this._nombre;
    }

    // Metodo para obtener el precio
    getPrecio() {
        return this._precio;
    }

    // Metodo para mostrar la informacion del producto
    mostrar() {
        return this._nombre + " - $" + this._precio;
    }
}

// Clase hija: ProductoRopa hereda de Producto
class ProductoRopa extends Producto {
    constructor(nombre, precio, talla) {
        super(nombre, precio); // Llama al constructor de la clase Producto
        this.talla = talla; // Nueva propiedad para la talla
    }

    // Reescribe el metodo mostrar para incluir la talla
    mostrar() {
        return super.mostrar() + " - Talla: " + this.talla;
    }
}

// Clase hija: ProductoElectronico hereda de Producto
    class ProductoElectronico extends Producto {
        constructor(nombre, precio, garantia) {
            super(nombre, precio); // Llama al constructor de la clase Producto
            this.garantia = garantia; // Nueva propiedad para la garantia
    }

    // Reescribe el metodo mostrar para incluir la garantia
    mostrar() {
        return super.mostrar() + " - Garantia: " + this.garantia + " meses";
    }
}

// Clase Carrito para manejar los productos agregados
    class Carrito {
        constructor() {
            this.lista = []; // Lista donde se guardan los productos
    }

    // Agrega un producto a la lista
    agregar(producto) {
        this.lista.push(producto);
    }

    // Calcula el total del carrito sumando todos los precios
    mostrarTotal() {
        let total = 0;
        this.lista.forEach(p => total += p.getPrecio()); // Suma cada precio
        return total; // Devuelve el total final
    }
}

    // Funcion que se ejecuta cuando se hace clic en el boton
    function mostrarProductos() {
      // Crea un producto de tipo ropa
    const prod1 = new ProductoRopa("Camisa", 25, "M");

      // Crea un producto electronico
    const prod2 = new ProductoElectronico("Audifonos", 100, 6);

      // Crea un nuevo carrito
    const carrito = new Carrito();

      // Agrega los productos al carrito
    carrito.agregar(prod1);
    carrito.agregar(prod2);

      // Muestra los productos en la pantalla
    const contenedor = document.getElementById("productos");
    contenedor.innerHTML = `
        <p>${prod1.mostrar()}</p>
        <p>${prod2.mostrar()}</p>
    `;

      // Muestra el total del carrito
    const resumen = document.getElementById("carrito");
    resumen.innerHTML = `<strong>Total del carrito: $${carrito.mostrarTotal()}</strong>`;
    }
</script>

</body>
</html>
